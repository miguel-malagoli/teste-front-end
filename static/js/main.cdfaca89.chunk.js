(this["webpackJsonpteste-front-end"]=this["webpackJsonpteste-front-end"]||[]).push([[0],{11:function(e,t,s){},12:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s(1),n=s.n(i),c=s(5),o=s.n(c),l=s(4),r=s(2),d=function(e){var t=Object(i.useState)(!1),s=Object(r.a)(t,2),n=s[0],c=s[1];return Object(a.jsxs)("header",{className:"pesquisa"+(e.up?" pesquisa_top":"")+(e.activeTitle?" pesquisa_left":""),children:[Object(a.jsx)("div",{className:"pesquisa__metade",children:Object(a.jsxs)("form",{className:"pesquisa__barra"+(n?" pesquisa__barra_foco":""),onFocus:function(){c(!0)},onBlur:function(){c(!1)},onSubmit:function(t){e.handleSearch(),t.preventDefault()},children:[Object(a.jsx)("div",{className:"pesquisa__fundo",children:Object(a.jsx)("input",{className:"pesquisa__input",type:"text",name:"terms",placeholder:"Pesquisar...",value:e.terms,onChange:function(t){e.handleTerms(t.target.value.replace(/[^a-zA-Z0-9 ]/g,""))},required:!0,autoFocus:!0,tabIndex:e.activeTitle?-1:0,minLength:3,maxLength:50})}),Object(a.jsx)("button",{className:"pesquisa__buscar",type:"submit",tabIndex:e.activeTitle?-1:0,children:Object(a.jsxs)("svg",{className:"pesquisa__icone",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",children:[Object(a.jsx)("title",{children:"Buscar"}),Object(a.jsx)("path",{d:"M23.822 20.88l-6.353-6.354c.93-1.465 1.467-3.2\r 1.467-5.059.001-5.219-4.247-9.467-9.468-9.467s-9.468 4.248-9.468 9.468c0\r 5.221 4.247 9.469 9.468 9.469 1.768 0 3.421-.487 4.839-1.333l6.396 6.396\r 3.119-3.12zm-20.294-11.412c0-3.273 2.665-5.938 5.939-5.938 3.275 0 5.94\r 2.664 5.94 5.938 0 3.275-2.665 5.939-5.94 5.939-3.274 0-5.939-2.664-5.939-5.939z"})]})})]})}),Object(a.jsx)("div",{className:"pesquisa__metade",children:Object(a.jsxs)("div",{className:"pesquisa__barra",children:[Object(a.jsx)("button",{className:"pesquisa__voltar",type:"button",onClick:function(){e.handleClear()},tabIndex:e.activeTitle?0:-1,children:Object(a.jsxs)("svg",{className:"pesquisa__icone",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",children:[Object(a.jsx)("title",{children:"Voltar"}),Object(a.jsx)("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})]})}),Object(a.jsx)("div",{className:"pesquisa__titulo",children:Object(a.jsx)("p",{className:"pesquisa__texto",children:e.activeTitle})})]})})]})},u=function(e){var t,s,i,n,c,o,l=e.stats?Math.round(Number.parseInt(e.stats.likeCount)/(Number.parseInt(e.stats.likeCount)+Number.parseInt(e.stats.dislikeCount))*100):0;return Object(a.jsxs)("li",{className:"resultado"+(e.active?" resultado_ativo":"")+(e.hidden?" resultado_escondido":""),tabIndex:e.active?-1:0,onClick:e.active?function(){}:function(){e.handleTitle(e.video.snippet.title),e.handleSelect(e.video.id.videoId)},children:[Object(a.jsxs)("div",{className:"resultado__conteudo",children:[Object(a.jsxs)("div",{className:"resultado__tela",children:[Object(a.jsx)("img",{className:"resultado__thumbnail",src:e.video.snippet.thumbnails.high.url,alt:'Thumbnail do v\xeddeo "'+e.video.snippet.title+'"'}),Object(a.jsx)("iframe",{className:"resultado__video",title:e.video.id.videoId,src:"https://www.youtube.com/embed/"+e.video.id.videoId,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,tabIndex:e.active?0:-1})]}),Object(a.jsxs)("div",{className:"resultado__disposicao",children:[Object(a.jsxs)("div",{className:"resultado__info",children:[Object(a.jsx)("img",{className:"resultado__imagem",src:e.profileImg,alt:"Imagem de perfil de "+e.video.snippet.channelTitle}),Object(a.jsxs)("div",{className:"resultado__dados",children:[Object(a.jsx)("div",{className:"resultado__titulo "+e.video.id.videoId,children:e.video.snippet.title}),Object(a.jsx)("div",{className:"resultado__canal",children:e.video.snippet.channelTitle}),Object(a.jsx)("div",{className:"resultado__visualizacoes",children:(null===(t=e.stats)||void 0===t?void 0:t.viewCount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))+" Visualiza\xe7\xf5es"})]})]}),Object(a.jsxs)("div",{className:"interacao"+(e.active?" interacao_ativa":""),children:[Object(a.jsxs)("div",{className:"interacao__contagem",children:[Object(a.jsxs)("div",{className:"interacao__metade",children:[Object(a.jsxs)("svg",{className:"interacao__like",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",children:[Object(a.jsx)("title",{children:"Like"}),Object(a.jsx)("path",{d:"M5 22h-5v-12h5v12zm17.615-8.412c-.857-.115-.578-.734.031-.922.521-.16\r 1.354-.5 1.354-1.51\r 0-.672-.5-1.562-2.271-1.49-1.228.05-3.666-.198-4.979-.885.906-3.656.688-8.781-1.688-8.781-1.594\r 0-1.896 1.807-2.375 3.469-1.221 4.242-3.312 6.017-5.687 6.885v10.878c4.382.701 6.345 2.768\r 10.505 2.768 3.198 0 4.852-1.735 4.852-2.666\r 0-.335-.272-.573-.96-.626-.811-.062-.734-.812.031-.953 1.268-.234 1.826-.914 1.826-1.543\r 0-.529-.396-1.022-1.098-1.181-.837-.189-.664-.757.031-.812 1.133-.09 1.688-.764 1.688-1.41\r 0-.565-.424-1.109-1.26-1.221z"})]}),Object(a.jsx)("p",{className:"interacao__numero",children:null===(s=e.stats)||void 0===s||null===(i=s.likeCount)||void 0===i?void 0:i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")})]}),Object(a.jsxs)("div",{className:"interacao__metade",children:[Object(a.jsx)("p",{className:"interacao__numero",children:null===(n=e.stats)||void 0===n||null===(c=n.dislikeCount)||void 0===c?void 0:c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}),Object(a.jsxs)("svg",{className:"interacao__dislike",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",children:[Object(a.jsx)("title",{children:"Dislike"}),Object(a.jsx)("path",{d:"M5 14h-5v-12h5v12zm18.875-4.809c0-.646-.555-1.32-1.688-1.41-.695-.055-.868-.623-.031-.812.701-.159\r 1.098-.652 1.098-1.181 0-.629-.559-1.309-1.826-1.543-.766-.141-.842-.891-.031-.953.688-.053.96-.291.96-.626-.001-.931-1.654-2.666-4.852-2.666-4.16\r 0-6.123 2.067-10.505 2.768v10.878c2.375.869 4.466 2.644 5.688 6.886.478 1.661.781 3.468\r 2.374 3.468 2.375 0 2.594-5.125 1.688-8.781 1.312-.688 3.751-.936 4.979-.885 1.771.072\r 2.271-.818 2.271-1.49 0-1.011-.833-1.35-1.354-1.51-.609-.188-.889-.807-.031-.922.836-.112\r 1.26-.656 1.26-1.221z"})]})]})]}),Object(a.jsxs)("div",{className:"interacao__barra",children:[Object(a.jsx)("div",{className:"interacao__barraLike",style:{flex:Number.isNaN(l)?0:l}}),Object(a.jsx)("div",{className:"interacao__barraMeio"}),Object(a.jsx)("div",{className:"interacao__barraDislike",style:{flex:Number.isNaN(l)?0:100-l}})]})]})]}),Object(a.jsx)("div",{className:"resultado__descricao",children:e.active?null===(o=e.stats)||void 0===o?void 0:o.description:e.video.snippet.description})]}),Object(a.jsx)("button",{className:"resultado__detalhes",type:"button",tabIndex:e.active?0:-1,onClick:e.active?function(){e.handleTitle(null),e.handleSelect(null)}:function(){},children:e.active?"-  Voltar":"+  Detalhes"})]},e.video.id.videoId)},p=function(e){var t;return Object(a.jsx)("ul",{className:"lista"+(e.transition?" lista_transicao":""),children:null===(t=e.results)||void 0===t?void 0:t.map((function(t){return Object(a.jsx)(u,{video:t,profileImg:e.channels[t.snippet.channelId],stats:e.statistics[t.id.videoId],active:e.activeResult===t.id.videoId,hidden:null!==e.activeResult,handleSelect:e.handleActiveResult,handleTitle:e.handleTitle},t.id.videoId)}))})},j=function(e){return Object(a.jsx)("footer",{className:"carregamento",children:e.hasMoreResults?Object(a.jsxs)("div",{className:"carregamento__animacao",children:[Object(a.jsx)("div",{className:"carregamento__ponto",style:{animationDelay:"0s"}}),Object(a.jsx)("div",{className:"carregamento__ponto",style:{animationDelay:".1s"}}),Object(a.jsx)("div",{className:"carregamento__ponto",style:{animationDelay:".2s"}})]}):Object(a.jsx)("p",{className:"carregamento__fim",children:"Fim dos resultados"})})},v=function(e){return Object(a.jsxs)("div",{className:"erro",children:[Object(a.jsx)("p",{className:"erro__emote",children:e.noResults?"Nada :(":e.errorInfo.code+" :("}),e.errorInfo?Object(a.jsx)("p",{className:"erro__texto",dangerouslySetInnerHTML:{__html:e.errorInfo.message}}):Object(a.jsx)("p",{className:"erro__texto",children:"N\xe3o encontramos nenhum resultado. Tente novamente com outros termos de pesquisa."})]})},b=function(){var e=Object(i.useState)(""),t=Object(r.a)(e,2),s=t[0],n=t[1],c=Object(i.useState)(""),o=Object(r.a)(c,2),u=o[0],b=o[1],m=Object(i.useState)(null),h=Object(r.a)(m,2),x=h[0],O=h[1],_=Object(i.useState)({}),f=Object(r.a)(_,2),N=f[0],w=f[1],g=Object(i.useState)({}),y=Object(r.a)(g,2),S=y[0],k=y[1],I=Object(i.useState)(""),T=Object(r.a)(I,2),C=T[0],q=T[1],z=Object(i.useState)(null),B=Object(r.a)(z,2),L=B[0],R=B[1],J=Object(i.useState)(null),M=Object(r.a)(J,2),G=M[0],A=M[1],E=Object(i.useState)(!1),F=Object(r.a)(E,2),H=F[0],D=F[1],W=Object(i.useState)(null),X=Object(r.a)(W,2),P=X[0],V=X[1],Z=Object(i.useState)(!1),Y=Object(r.a)(Z,2),K=Y[0],Q=Y[1];function U(e){D(!0);var t=L;t&&null===e?setTimeout((function(){R(e),document.getElementsByClassName(t)[0].scrollIntoView({behavior:"auto",block:"center"}),D(!1)}),200):e&&(window.scrollTo({top:0,left:0,behavior:"auto"}),D(!1),R(e))}return Object(i.useEffect)((function(){""!==C&&(window.onscroll=function(){null===L&&null===P&&!1===K&&window.innerHeight+window.scrollY>=document.body.offsetHeight&&(!function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);if(e.items.length<=0)return Q(!0),void q("");var s=e.items.filter((function(e){return!Object.keys(N).includes(e.id.videoId)}));x&&O(x.concat(s));var a=s.map((function(e){return e.id.videoId})).join(),i=s.map((function(e){return e.snippet.channelId})).join(),n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){for(var e=JSON.parse(n.responseText).items.reduce((function(e,t){return e[t.id]=t.snippet.thumbnails.default.url,e}),{}),t=Object(l.a)({},S),s=0,a=Object.entries(e);s<a.length;s++){var i=Object(r.a)(a[s],2),c=i[0],o=i[1];t[c]=o}k(t)}},n.open("GET","https://www.googleapis.com/youtube/v3/channels?part=snippet&id="+i+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc"),n.send();var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){for(var e=JSON.parse(c.responseText).items.reduce((function(e,t){return e[t.id]={dislikeCount:t.statistics.dislikeCount,likeCount:t.statistics.likeCount,viewCount:t.statistics.viewCount,description:t.snippet.description},e}),{}),t=Object(l.a)({},N),s=0,a=Object.entries(e);s<a.length;s++){var i=Object(r.a)(a[s],2),n=i[0],o=i[1];t[n]={dislikeCount:o.dislikeCount,likeCount:o.likeCount,viewCount:o.viewCount,description:o.description}}w(t)}},c.open("GET","https://www.googleapis.com/youtube/v3/videos?part=statistics,snippet&id="+a+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc"),c.send(),e.nextPageToken?q(e.nextPageToken):(q(""),Q(!0))}else 4===t.readyState&&t.status>=400&&V(JSON.parse(t.responseText).error)},t.open("GET","https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&videoEmbeddable=true&maxResults=12&q="+u.replace(/[^a-zA-Z0-9 ]/g,"")+"&pageToken="+e+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc"),t.send()}(C),window.onscroll=null)})}),[u,C,N,S,L,K,P]),Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(d,{terms:s,handleTerms:n,up:null!==x||null!==P||K,handleSearch:function(){b(s);var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);if(t.items.length<=0)return O(null),q(""),w({}),k({}),V(null),void Q(!0);O(t.items),Q(!1),V(null),window.scrollTo({top:0,left:0,behavior:"smooth"});var s=t.items.map((function(e){return e.id.videoId})).join(),a=t.items.map((function(e){return e.snippet.channelId})).join(),i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var e=JSON.parse(i.responseText).items.reduce((function(e,t){return e[t.id]=t.snippet.thumbnails.default.url,e}),{});k(e)}},i.open("GET","https://www.googleapis.com/youtube/v3/channels?part=snippet&id="+a+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc"),i.send();var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText).items.reduce((function(e,t){return e[t.id]={dislikeCount:t.statistics.dislikeCount,likeCount:t.statistics.likeCount,viewCount:t.statistics.viewCount,description:t.snippet.description},e}),{});w(e)}},n.open("GET","https://www.googleapis.com/youtube/v3/videos?part=statistics,snippet&id="+s+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc"),n.send(),t.nextPageToken?q(t.nextPageToken):(q(""),Q(!0))}else 4===e.readyState&&e.status>=400&&V(JSON.parse(e.responseText).error)},e.open("GET","https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&videoEmbeddable=true&maxResults=12&q="+s.replace(/[^a-zA-Z0-9 ]/g,"")+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc"),e.send()},activeTitle:G,handleClear:function(){U(null),A(null)}}),P||null===x&&K?Object(a.jsx)(v,{errorInfo:P,noResults:K}):Object(a.jsx)(p,{results:x,statistics:N,channels:S,handleTitle:A,activeResult:L,handleActiveResult:U,transition:H}),x&&null===L&&Object(a.jsx)(j,{hasMoreResults:!K})]})};s(11);o.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(b,{})}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.cdfaca89.chunk.js.map
(this["webpackJsonpteste-front-end"]=this["webpackJsonpteste-front-end"]||[]).push([[0],{38:function(e,t,s){},39:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s(1),n=s.n(i),c=s(14),l=s.n(c),o=s(5),r=s(2),d=function(e){var t=Object(i.useState)(!1),s=Object(r.a)(t,2),n=s[0],c=s[1];return Object(a.jsxs)("header",{className:"pesquisa"+(e.up?" pesquisa_top":"")+(e.activeTitle?" pesquisa_left":""),children:[Object(a.jsx)("div",{className:"pesquisa__metade",children:Object(a.jsxs)("form",{className:"pesquisa__barra"+(n?" pesquisa__barra_foco":""),onFocus:function(){c(!0)},onBlur:function(){c(!1)},onSubmit:function(t){e.handleSearch(),t.preventDefault()},children:[Object(a.jsx)("div",{className:"pesquisa__fundo",children:Object(a.jsx)("input",{className:"pesquisa__input",type:"text",name:"terms",placeholder:"Pesquisar...",value:e.terms,onChange:function(t){e.handleTerms(t.target.value.replace(/[^a-zA-Z0-9 ]/g,""))},required:!0,autoFocus:!0,tabIndex:e.activeTitle?-1:0,minLength:3,maxLength:50})}),Object(a.jsx)("button",{className:"pesquisa__buscar",type:"submit",tabIndex:e.activeTitle?-1:0,children:Object(a.jsxs)("svg",{className:"pesquisa__icone",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",children:[Object(a.jsx)("title",{children:"Buscar"}),Object(a.jsx)("path",{d:"M23.822 20.88l-6.353-6.354c.93-1.465 1.467-3.2\r 1.467-5.059.001-5.219-4.247-9.467-9.468-9.467s-9.468 4.248-9.468 9.468c0\r 5.221 4.247 9.469 9.468 9.469 1.768 0 3.421-.487 4.839-1.333l6.396 6.396\r 3.119-3.12zm-20.294-11.412c0-3.273 2.665-5.938 5.939-5.938 3.275 0 5.94\r 2.664 5.94 5.938 0 3.275-2.665 5.939-5.94 5.939-3.274 0-5.939-2.664-5.939-5.939z"})]})})]})}),Object(a.jsx)("div",{className:"pesquisa__metade",children:Object(a.jsxs)("div",{className:"pesquisa__barra",children:[Object(a.jsx)("button",{className:"pesquisa__voltar",type:"button",onClick:function(){e.handleClear()},tabIndex:e.activeTitle?0:-1,children:Object(a.jsxs)("svg",{className:"pesquisa__icone",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",children:[Object(a.jsx)("title",{children:"Voltar"}),Object(a.jsx)("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})]})}),Object(a.jsx)("div",{className:"pesquisa__titulo",children:Object(a.jsx)("p",{className:"pesquisa__texto",children:e.activeTitle})})]})})]})},u=function(e){var t,s,i,n,c,l,o=e.stats?Math.round(Number.parseInt(e.stats.likeCount)/(Number.parseInt(e.stats.likeCount)+Number.parseInt(e.stats.dislikeCount))*100):0;return Object(a.jsxs)("li",{className:"resultado"+(e.active?" resultado_ativo":"")+(e.hidden?" resultado_escondido":""),tabIndex:e.active?-1:0,onClick:e.active?function(){}:function(){e.handleTitle(e.video.snippet.title),e.handleSelect(e.video.id.videoId)},children:[Object(a.jsxs)("div",{className:"resultado__conteudo",children:[Object(a.jsxs)("div",{className:"resultado__tela",children:[Object(a.jsx)("img",{className:"resultado__thumbnail",src:e.video.snippet.thumbnails.high.url,alt:'Thumbnail do v\xeddeo "'+e.video.snippet.title+'"'}),Object(a.jsx)("iframe",{className:"resultado__video",title:e.video.id.videoId,src:"https://www.youtube.com/embed/"+e.video.id.videoId,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,tabIndex:e.active?0:-1})]}),Object(a.jsxs)("div",{className:"resultado__disposicao",children:[Object(a.jsxs)("div",{className:"resultado__info",children:[Object(a.jsx)("img",{className:"resultado__imagem",src:e.profileImg,alt:"Imagem de perfil de "+e.video.snippet.channelTitle}),Object(a.jsxs)("div",{className:"resultado__dados",children:[Object(a.jsx)("div",{className:"resultado__titulo "+e.video.id.videoId,children:e.video.snippet.title}),Object(a.jsx)("div",{className:"resultado__canal",children:e.video.snippet.channelTitle}),Object(a.jsx)("div",{className:"resultado__visualizacoes",children:(null===(t=e.stats)||void 0===t?void 0:t.viewCount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))+" Visualiza\xe7\xf5es"})]})]}),Object(a.jsxs)("div",{className:"interacao"+(e.active?" interacao_ativa":""),children:[Object(a.jsxs)("div",{className:"interacao__contagem",children:[Object(a.jsxs)("div",{className:"interacao__metade",children:[Object(a.jsxs)("svg",{className:"interacao__like",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",children:[Object(a.jsx)("title",{children:"Like"}),Object(a.jsx)("path",{d:"M5 22h-5v-12h5v12zm17.615-8.412c-.857-.115-.578-.734.031-.922.521-.16\r 1.354-.5 1.354-1.51\r 0-.672-.5-1.562-2.271-1.49-1.228.05-3.666-.198-4.979-.885.906-3.656.688-8.781-1.688-8.781-1.594\r 0-1.896 1.807-2.375 3.469-1.221 4.242-3.312 6.017-5.687 6.885v10.878c4.382.701 6.345 2.768\r 10.505 2.768 3.198 0 4.852-1.735 4.852-2.666\r 0-.335-.272-.573-.96-.626-.811-.062-.734-.812.031-.953 1.268-.234 1.826-.914 1.826-1.543\r 0-.529-.396-1.022-1.098-1.181-.837-.189-.664-.757.031-.812 1.133-.09 1.688-.764 1.688-1.41\r 0-.565-.424-1.109-1.26-1.221z"})]}),Object(a.jsx)("p",{className:"interacao__numero",children:null===(s=e.stats)||void 0===s||null===(i=s.likeCount)||void 0===i?void 0:i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")})]}),Object(a.jsxs)("div",{className:"interacao__metade",children:[Object(a.jsx)("p",{className:"interacao__numero",children:null===(n=e.stats)||void 0===n||null===(c=n.dislikeCount)||void 0===c?void 0:c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}),Object(a.jsxs)("svg",{className:"interacao__dislike",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",children:[Object(a.jsx)("title",{children:"Dislike"}),Object(a.jsx)("path",{d:"M5 14h-5v-12h5v12zm18.875-4.809c0-.646-.555-1.32-1.688-1.41-.695-.055-.868-.623-.031-.812.701-.159\r 1.098-.652 1.098-1.181 0-.629-.559-1.309-1.826-1.543-.766-.141-.842-.891-.031-.953.688-.053.96-.291.96-.626-.001-.931-1.654-2.666-4.852-2.666-4.16\r 0-6.123 2.067-10.505 2.768v10.878c2.375.869 4.466 2.644 5.688 6.886.478 1.661.781 3.468\r 2.374 3.468 2.375 0 2.594-5.125 1.688-8.781 1.312-.688 3.751-.936 4.979-.885 1.771.072\r 2.271-.818 2.271-1.49 0-1.011-.833-1.35-1.354-1.51-.609-.188-.889-.807-.031-.922.836-.112\r 1.26-.656 1.26-1.221z"})]})]})]}),Object(a.jsxs)("div",{className:"interacao__barra",children:[Object(a.jsx)("div",{className:"interacao__barraLike",style:{flex:Number.isNaN(o)?0:o}}),Object(a.jsx)("div",{className:"interacao__barraMeio"}),Object(a.jsx)("div",{className:"interacao__barraDislike",style:{flex:Number.isNaN(o)?0:100-o}})]})]})]}),Object(a.jsx)("div",{className:"resultado__descricao",children:e.active?null===(l=e.stats)||void 0===l?void 0:l.description:e.video.snippet.description})]}),Object(a.jsx)("button",{className:"resultado__detalhes",type:"button",tabIndex:e.active?0:-1,onClick:e.active?function(){e.handleTitle(null),e.handleSelect(null)}:function(){},children:e.active?"-  Voltar":"+  Detalhes"})]},e.video.id.videoId)},j=function(e){var t;return Object(a.jsx)("ul",{className:"lista"+(e.transition?" lista_transicao":""),children:null===(t=e.results)||void 0===t?void 0:t.map((function(t){return Object(a.jsx)(u,{video:t,profileImg:e.channels[t.snippet.channelId],stats:e.statistics[t.id.videoId],active:e.activeResult===t.id.videoId,hidden:null!==e.activeResult,handleSelect:e.handleActiveResult,handleTitle:e.handleTitle},t.id.videoId)}))})},b=function(e){return Object(a.jsx)("footer",{className:"carregamento",children:e.hasMoreResults?Object(a.jsxs)("div",{className:"carregamento__animacao",children:[Object(a.jsx)("div",{className:"carregamento__ponto",style:{animationDelay:"0s"}}),Object(a.jsx)("div",{className:"carregamento__ponto",style:{animationDelay:".1s"}}),Object(a.jsx)("div",{className:"carregamento__ponto",style:{animationDelay:".2s"}})]}):Object(a.jsx)("p",{className:"carregamento__fim",children:"Fim dos resultados"})})},v=function(e){return Object(a.jsxs)("div",{className:"erro",children:[Object(a.jsx)("p",{className:"erro__emote",children:e.noResults?"Nada :(":e.errorInfo.code+" :("}),e.errorInfo?Object(a.jsx)("p",{className:"erro__texto",dangerouslySetInnerHTML:{__html:e.errorInfo.message}}):Object(a.jsx)("p",{className:"erro__texto",children:"N\xe3o encontramos nenhum resultado. Tente novamente com outros termos de pesquisa."})]})},m=function(){var e=s(20),t=Object(i.useState)(""),n=Object(r.a)(t,2),c=n[0],l=n[1],u=Object(i.useState)(""),m=Object(r.a)(u,2),p=m[0],h=m[1],x=Object(i.useState)(null),_=Object(r.a)(x,2),O=_[0],f=_[1],g=Object(i.useState)({}),N=Object(r.a)(g,2),w=N[0],y=N[1],k=Object(i.useState)({}),I=Object(r.a)(k,2),S=I[0],q=I[1],C=Object(i.useState)(""),T=Object(r.a)(C,2),z=T[0],B=T[1],A=Object(i.useState)(null),L=Object(r.a)(A,2),R=L[0],F=L[1],M=Object(i.useState)(null),J=Object(r.a)(M,2),D=J[0],G=J[1],W=Object(i.useState)(!1),E=Object(r.a)(W,2),P=E[0],V=E[1],H=Object(i.useState)(null),Z=Object(r.a)(H,2),Y=Z[0],K=Z[1],Q=Object(i.useState)(!1),U=Object(r.a)(Q,2),X=U[0],$=U[1];function ee(e){V(!0);var t=R;t&&null===e?setTimeout((function(){F(e),document.getElementsByClassName(t)[0].scrollIntoView({behavior:"auto",block:"center"}),V(!1)}),200):e&&(window.scrollTo({top:0,left:0,behavior:"auto"}),V(!1),F(e))}return Object(i.useEffect)((function(){""!==z&&(window.onscroll=function(){var t;null===R&&null===Y&&!1===X&&window.innerHeight+window.scrollY>=document.body.offsetHeight&&(t=z,e.get("https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&videoEmbeddable=true&maxResults=12&q="+p.replace(/[^a-zA-Z0-9 ]/g,"")+"&pageToken="+t+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc").then((function(t){if(4===t.request.readyState&&200===t.request.status){if(t.data.items.length<=0)return $(!0),void B("");var s=t.data.items.filter((function(e){return!Object.keys(w).includes(e.id.videoId)}));O&&f(O.concat(s));var a=s.map((function(e){return e.id.videoId})).join(),i=s.map((function(e){return e.snippet.channelId})).join();t.data.nextPageToken?B(t.data.nextPageToken):(B(""),$(!0)),e.get("https://www.googleapis.com/youtube/v3/channels?part=snippet&id="+i+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc").then((function(e){if(4===e.request.readyState&&200===e.request.status){for(var t=e.data.items.reduce((function(e,t){return e[t.id]=t.snippet.thumbnails.default.url,e}),{}),s=Object(o.a)({},S),a=0,i=Object.entries(t);a<i.length;a++){var n=Object(r.a)(i[a],2),c=n[0],l=n[1];s[c]=l}q(s)}})),e.get("https://www.googleapis.com/youtube/v3/videos?part=statistics,snippet&id="+a+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc").then((function(e){if(4===e.request.readyState&&200===e.request.status){for(var t=e.data.items.reduce((function(e,t){return e[t.id]={dislikeCount:t.statistics.dislikeCount,likeCount:t.statistics.likeCount,viewCount:t.statistics.viewCount,description:t.snippet.description},e}),{}),s=Object(o.a)({},w),a=0,i=Object.entries(t);a<i.length;a++){var n=Object(r.a)(i[a],2),c=n[0],l=n[1];s[c]={dislikeCount:l.dislikeCount,likeCount:l.likeCount,viewCount:l.viewCount,description:l.description}}y(s)}}))}else 4===t.request.readyState&&t.request.status>=400&&(B(""),$(!0))})),window.onscroll=null)})}),[p,z,w,S,R,X,Y]),Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(d,{terms:c,handleTerms:l,up:null!==O||null!==Y||X,handleSearch:function(){h(c),e.get("https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&videoEmbeddable=true&maxResults=12&q="+c.replace(/[^a-zA-Z0-9 ]/g,"")+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc").then((function(t){if(4===t.request.readyState&&200===t.request.status){var s=t.data.items;if(s.length<=0)return f(null),B(""),y({}),q({}),K(null),void $(!0);f(s),$(!1),K(null),window.scrollTo({top:0,left:0,behavior:"smooth"});var a=s.map((function(e){return e.id.videoId})).join(),i=s.map((function(e){return e.snippet.channelId})).join();t.data.nextPageToken?B(t.data.nextPageToken):(B(""),$(!0)),e.get("https://www.googleapis.com/youtube/v3/channels?part=snippet&id="+i+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc").then((function(e){if(4===e.request.readyState&&200===e.request.status){var t=e.data.items.reduce((function(e,t){return e[t.id]=t.snippet.thumbnails.default.url,e}),{});q(t)}})),e.get("https://www.googleapis.com/youtube/v3/videos?part=statistics,snippet&id="+a+"&key=AIzaSyBbS29keWaqCw9J7NLNfhxFbvc0c5ceGIc").then((function(e){if(4===e.request.readyState&&200===e.request.status){var t=e.data.items.reduce((function(e,t){return e[t.id]={dislikeCount:t.statistics.dislikeCount,likeCount:t.statistics.likeCount,viewCount:t.statistics.viewCount,description:t.snippet.description},e}),{});y(t)}}))}else 4===t.request.readyState&&t.request.status>=400&&K(t.data.error)}))},activeTitle:D,handleClear:function(){ee(null),G(null)}}),Y||null===O&&X?Object(a.jsx)(v,{errorInfo:Y,noResults:X}):Object(a.jsx)(j,{results:O,statistics:w,channels:S,handleTitle:G,activeResult:R,handleActiveResult:ee,transition:P}),O&&null===R&&Object(a.jsx)(b,{hasMoreResults:!X})]})};s(38);l.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.8ab49127.chunk.js.map